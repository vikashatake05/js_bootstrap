<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Employee Application & Tic Tac Toe</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { margin: 40px; background: #222; }
    .board { display: grid; grid-template: repeat(3,80px)/repeat(3,80px); gap:8px; justify-content:center; margin-bottom:20px;}
    .cell { width:80px; height:80px; font-size:2.5em; font-weight:bold; color:#fff; background:#444; border:2px solid #888; display:flex; align-items:center; justify-content:center; cursor:pointer;}
    .cell:hover:not(.disabled) { background:#666; }
    .disabled { pointer-events:none; background:#222!important; }
  </style>
</head>
<body>
  <div class="container">
    <h2 class="mb-4 text-light text-center">Employee Application Form</h2>
    <div id="formPanel">
      <form id="employeeForm" novalidate>
        <div class="mb-3"><input type="text" class="form-control" id="name" placeholder="Full Name" required></div>
        <div class="mb-3"><input type="email" class="form-control" id="email" placeholder="Email" required></div>
        <div class="mb-3"><input type="tel" class="form-control" id="phone" pattern="^\d{10}$" placeholder="Phone" required></div>
        <div class="mb-3"><input type="text" class="form-control" id="position" placeholder="Position" required></div>
        <div class="mb-3"><input type="file" class="form-control" id="resume" accept=".pdf" required></div>
        <div class="mb-3"><input type="date" class="form-control" id="dob" required></div>
        <div class="mb-3">
          <select class="form-select" id="gender" required>
            <option value="">Gender</option><option>Male</option><option>Female</option><option>Other</option>
          </select>
        </div>
        <div class="d-flex gap-2 mb-3">
          <button type="submit" class="btn btn-primary">Submit</button>
          <button type="button" class="btn btn-warning" id="resetBtn">Reset</button>
        </div>
        <div id="successMsg" class="alert alert-success mt-3 d-none">Application submitted successfully!</div>
      </form>
    </div>
    <div id="gameSection" class="text-center" style="display:none;">
      <h2 class="text-light mb-4">Tic Tac Toe</h2>
      <div id="statusMsg" class="mb-3 text-light">Player X's turn</div>
      <div id="board" class="board"></div>
      <button id="resetGameBtn" class="btn btn-warning">Reset Game</button>
    </div>
  </div>
  <script>
    // Form validation and transition
    const form = document.getElementById('employeeForm');
    form.onsubmit = e => {
      e.preventDefault();
      const file = resume.files[0];
      if (!form.checkValidity() || !file || file.type !== "application/pdf") {
        form.classList.add('was-validated');
        resume.classList.toggle('is-invalid', !file || file.type !== "application/pdf");
        return;
      }
      document.getElementById('successMsg').classList.remove('d-none');
      setTimeout(() => {
        formPanel.style.display = 'none';
        gameSection.style.display = 'block';
        initGame();
      }, 1000);
      form.classList.remove('was-validated');
      form.reset();
      setTimeout(() => successMsg.classList.add('d-none'), 800);
    };
    resetBtn.onclick = () => {
      form.reset();
      form.classList.remove('was-validated');
      Array.from(form.elements).forEach(el => el.classList.remove('is-valid', 'is-invalid'));
      successMsg.classList.add('d-none');
    };

    // Tic Tac Toe
    let boardArr, currentPlayer, gameOver;
    function initGame() {
      boardArr = Array(9).fill('');
      currentPlayer = 'X'; gameOver = false;
      statusMsg.textContent = "Player X's turn";
      statusMsg.className = "mb-3 text-light";
      renderBoard();
    }
    function renderBoard() {
      board.innerHTML = '';
      boardArr.forEach((cell, i) => {
        const d = document.createElement('div');
        d.className = 'cell' + (cell || gameOver ? ' disabled' : '');
        d.textContent = cell;
        d.onclick = () => handleMove(i);
        board.appendChild(d);
      });
    }
    function handleMove(i) {
      if (boardArr[i] || gameOver) return;
      boardArr[i] = currentPlayer;
      renderBoard();
      if (checkWin(currentPlayer)) {
        statusMsg.textContent = `ðŸŽ‰ Player ${currentPlayer} wins!`;
        statusMsg.className = "mb-3 text-success"; gameOver = true; renderBoard();
      } else if (boardArr.every(c => c)) {
        statusMsg.textContent = "It's a draw!";
        statusMsg.className = "mb-3 text-warning"; gameOver = true; renderBoard();
      } else {
        currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
        statusMsg.textContent = `Player ${currentPlayer}'s turn`;
        statusMsg.className = "mb-3 text-light";
      }
    }
    function checkWin(p) {
      const w = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
      return w.some(line => line.every(i => boardArr[i] === p));
    }
    resetGameBtn.onclick = initGame;
  </script>
</body>
</html>
